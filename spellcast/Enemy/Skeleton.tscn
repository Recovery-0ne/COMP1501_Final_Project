[gd_scene load_steps=33 format=3 uid="uid://drhydcmoetxlj"]

[ext_resource type="Script" path="res://Enemy/EnemyScripts/SkeletonScripts/skeleton.gd" id="1_0cshr"]
[ext_resource type="Script" path="res://Enemy/EnemyScripts/SkeletonScripts/skeleton_wander.gd" id="2_5do2f"]
[ext_resource type="Script" path="res://Enemy/EnemyScripts/BaseEnemy/enemy_state_machine.gd" id="2_xm5eo"]
[ext_resource type="Script" path="res://Enemy/EnemyScripts/SkeletonScripts/skeleton_idle.gd" id="2_y1qu0"]
[ext_resource type="Texture2D" uid="uid://su26rno57fo8" path="res://Assets/Skeleton/Sprite Sheets/Skeleton Walk.png" id="3_3pmgf"]
[ext_resource type="Texture2D" uid="uid://c4bj0bmb1tgiv" path="res://Assets/Skeleton/Sprite Sheets/Skeleton Idle.png" id="4_5ygf2"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_1t2sk"]
radius = 6.66667
height = 24.6667

[sub_resource type="AtlasTexture" id="AtlasTexture_0fsl2"]
atlas = ExtResource("4_5ygf2")
region = Rect2(0, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_0h6ps"]
atlas = ExtResource("4_5ygf2")
region = Rect2(24, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mc7qv"]
atlas = ExtResource("4_5ygf2")
region = Rect2(48, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_kdope"]
atlas = ExtResource("4_5ygf2")
region = Rect2(72, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_sx3if"]
atlas = ExtResource("4_5ygf2")
region = Rect2(96, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_co7lr"]
atlas = ExtResource("4_5ygf2")
region = Rect2(120, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yodgw"]
atlas = ExtResource("4_5ygf2")
region = Rect2(144, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_h61dd"]
atlas = ExtResource("4_5ygf2")
region = Rect2(168, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6lvjh"]
atlas = ExtResource("4_5ygf2")
region = Rect2(192, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_a0b0v"]
atlas = ExtResource("4_5ygf2")
region = Rect2(216, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2qydq"]
atlas = ExtResource("4_5ygf2")
region = Rect2(240, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_bqarx"]
atlas = ExtResource("3_3pmgf")
region = Rect2(0, 0, 22, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_fnjuh"]
atlas = ExtResource("3_3pmgf")
region = Rect2(22, 0, 22, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_n0nbs"]
atlas = ExtResource("3_3pmgf")
region = Rect2(44, 0, 22, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_haaa7"]
atlas = ExtResource("3_3pmgf")
region = Rect2(66, 0, 22, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_inqul"]
atlas = ExtResource("3_3pmgf")
region = Rect2(88, 0, 22, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_ptqk8"]
atlas = ExtResource("3_3pmgf")
region = Rect2(110, 0, 22, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_di0hr"]
atlas = ExtResource("3_3pmgf")
region = Rect2(132, 0, 22, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_akq04"]
atlas = ExtResource("3_3pmgf")
region = Rect2(154, 0, 22, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_ia3tr"]
atlas = ExtResource("3_3pmgf")
region = Rect2(176, 0, 22, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_5vb8v"]
atlas = ExtResource("3_3pmgf")
region = Rect2(198, 0, 22, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_w4hrv"]
atlas = ExtResource("3_3pmgf")
region = Rect2(220, 0, 22, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_28oma"]
atlas = ExtResource("3_3pmgf")
region = Rect2(242, 0, 22, 33)

[sub_resource type="AtlasTexture" id="AtlasTexture_2f3q5"]
atlas = ExtResource("3_3pmgf")
region = Rect2(264, 0, 22, 33)

[sub_resource type="SpriteFrames" id="SpriteFrames_w3uf8"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0fsl2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0h6ps")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mc7qv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kdope")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sx3if")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_co7lr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yodgw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h61dd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6lvjh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a0b0v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2qydq")
}],
"loop": true,
"name": &"idle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bqarx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fnjuh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n0nbs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_haaa7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_inqul")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ptqk8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_di0hr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_akq04")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ia3tr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5vb8v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w4hrv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_28oma")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2f3q5")
}],
"loop": true,
"name": &"walk",
"speed": 7.0
}]

[node name="Skeleton" type="CharacterBody2D" node_paths=PackedStringArray("animated_sprite")]
scale = Vector2(3, 3)
script = ExtResource("1_0cshr")
animated_sprite = NodePath("AnimatedSpriteSkeleton")

[node name="SkeletonCollision" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_1t2sk")

[node name="AnimatedSpriteSkeleton" type="AnimatedSprite2D" parent="."]
position = Vector2(4, -4)
sprite_frames = SubResource("SpriteFrames_w3uf8")
animation = &"walk"
frame = 9
frame_progress = 0.781605

[node name="EnemyStateMachine" type="Node" parent="." node_paths=PackedStringArray("inital_state")]
script = ExtResource("2_xm5eo")
inital_state = NodePath("idle")

[node name="idle" type="Node" parent="EnemyStateMachine"]
script = ExtResource("2_y1qu0")

[node name="Timer" type="Timer" parent="EnemyStateMachine/idle"]
wait_time = 3.0
one_shot = true
autostart = true

[node name="wander" type="Node" parent="EnemyStateMachine"]
script = ExtResource("2_5do2f")

[node name="FloorCheck" type="RayCast2D" parent="."]
position = Vector2(12, 9)
target_position = Vector2(0, 10)
collision_mask = 2

[node name="WallCheck" type="RayCast2D" parent="."]
target_position = Vector2(20, 0)
collision_mask = 2

[connection signal="timeout" from="EnemyStateMachine/idle/Timer" to="EnemyStateMachine/idle" method="_on_timer_timeout"]
